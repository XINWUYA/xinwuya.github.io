# 数组

1.

    char a[] = "hello";
    a[0] = 'x';//正确
    
    char *p = "hello";
    p[0] = 'x';//错误
    
    char *q = a;
    q[0] = 'x';//正确

a为一个数组，内存分配在栈上，可以通过数组名或指向数组的指针进行修改，而**p值相的是位于文字常量区的字符串，是不允许被修改的，但使用p[0]访问相应的元素是正确的，只是不能修改**。

2.数组的首地址是常量，不可以进行赋值操作。

- 数组定义中类型不能是引用，即没有引用数组，因为引用是不能赋值的，而数组中的元素必须可以被赋值， 如int& a[10]为一种错误的定义；

3.数组元素的初始化：

- 函数体外定义的内置类型数组（即内置类型的全局数组），元素初始化为0；
- 函数体内定义的内置类型数组，元素无初始化，若只初始化部分元素，其后的元素此时也会被初始化为0；
- 如果不是内置类型，则不管其在哪定义，自动调用默认构造函数初始化，若该类无默认构造函数，则报错。

注：在声明数组时，除了宏替换可以用来定义数组的长度，在C++中可以用const常量来定义也是可以的，但该方式不适用于C。

3.逗号运算符：多个表达式可以用逗号分开，其中用逗号分开的表达式的值分别结算，但整个表达式的值是最后一个表达式的值。

注：赋值运算符比逗号运算符优先级高。如：`int a = (7, 8, 9);` 此时a=9；而`int a = 7, 8, 9;`此时a=7。

3.当数组作为函数实参传递时，传递的是数组首元素的地址。而将数组某一个元素的地址当作实参时，传递的是此元素的地址。

4.对于二维数组a[m][n], 

- a表示指向数组首元素a[0]的指针，为常量，不可进行赋值；
- a[0]为5个int组成的数组，表示指向数组a[0]首元素a[0][0]的指针；
- &a表示数组的首地址， &a+1跳过m行n列；
- 该数组各种指针类型对应：

<table border=0 cellpadding=0 cellspacing=0 width=587 style='border-collapse:
 collapse;table-layout:fixed;width:440pt'>
 <col width=129 style='mso-width-source:userset;mso-width-alt:4128;width:97pt'>
 <col width=111 style='mso-width-source:userset;mso-width-alt:3552;width:83pt'>
 <col width=347 style='mso-width-source:userset;mso-width-alt:11104;width:260pt'>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl646631 width=129 style='height:14.25pt;width:97pt'>指针</td>
  <td class=xl646631 width=111 style='border-left:none;width:83pt'>类型</td>
  <td class=xl646631 width=347 style='border-left:none;width:260pt'>备注</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>a</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int(*)[n]</td>
  <td class=xl636631 style='border-top:none;border-left:none'>a+i的类型也同为int(*)n</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>*a或a[0]</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int*</td>
  <td class=xl636631 style='border-top:none;border-left:none'>*a为指向数组a[0]首元素a[0][0]的指针</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>*(a+1)或a[1]</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int*</td>
  <td class=xl636631 style='border-top:none;border-left:none'>*(a+1)或a[1]为指向数组a[1]首元素a[1][0]的指针</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>*(*(a+1)+2)</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int</td>
  <td class=xl636631 style='border-top:none;border-left:none'>指向数组a[1][2]的指针</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>&amp;a</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int(*)[m][n]</td>
  <td class=xl636631 style='border-top:none;border-left:none'>　</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>a+i</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int(*)[n]</td>
  <td class=xl636631 style='border-top:none;border-left:none'>　</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>*(a+i)</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int*</td>
  <td class=xl636631 style='border-top:none;border-left:none'>　</td>
 </tr>
 <tr height=19 style='height:14.25pt'>
  <td height=19 class=xl636631 style='height:14.25pt;border-top:none'>*(*(a+i)+j)</td>
  <td class=xl636631 style='border-top:none;border-left:none'>int</td>
  <td class=xl636631 style='border-top:none;border-left:none'>*(a+i)=a[i];
  *(*(a+i)+j)=*(a[i]+j)=a[i][j]</td>
 </tr>
 <![if supportMisalignedColumns]>
 <tr height=0 style='display:none'>
  <td width=129 style='width:97pt'></td>
  <td width=111 style='width:83pt'></td>
  <td width=347 style='width:260pt'></td>
 </tr>
 <![endif]>
</table>

5.线性表和顺序表：线性表是一种逻辑结构，表示元素之间一对一的相邻关系，顺序表和链表是存储结构。

- 线性表中的元素的位序是从1开始的，数组中元素的下标是从0开始的；
- 顺序表可以进行随机存储，即通过首地址和元素序号可以在O(1)的时内进行元素查找；
- 顺序表插入和删除操作则需要移动大量元素，插入和删除的平均移动次数分别为n/2和(n-1)/2，按值查找需要比较的平均次数为(n+1)/2，这三种操作的平均时间复杂度均为O(n)。